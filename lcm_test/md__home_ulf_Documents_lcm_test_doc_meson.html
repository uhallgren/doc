<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta name="generator" content="Doxygen 1.9.1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>lcm_test: Meson and Ninja</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript">
        DoxygenAwesomeDarkModeToggle.init()
    </script>
</head>
<body>
    <div id="top">
        <!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
            <table cellspacing="0" cellpadding="0">
                <tbody>
                    <tr style="height: 56px;">
                        <td id="projectalign" style="padding-left: 0.5em;">
                            <div id="projectname">lcm_test
                                &#160;<span id="projectnumber">0.1</span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- end header part --><!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__home_ulf_Documents_lcm_test_doc_meson.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Meson and Ninja </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md2"></a>
Introduction</h1>
<p>This is a short survival guide to using <em>Meson</em> and <em>Ninja</em>. They might be new tools for some people but they are fairly easy to use. This document provides some short examples of how to use them in different scenarios.</p>
<p><em>Meson</em> uses only out-of-source builds. This means that all the generated artifacts from the build process are stored in a separate folder, normally named <em>builddir</em>. This folder should, of course, not be included in the version control system. <em>Meson</em> will add the appropriate ignore files so there is no need to make any additional configuration to exclude the folder.</p>
<p><em>Meson</em> does only generate <em>Ninja</em> build systems, it cannot generate normal makefiles. <em>Ninja</em> claims to be a faster build system than make, especially for incremental builds. The commands are not the same so a short introduction is given in the following section <b>Ninja</b>.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Meson</h1>
<p><em>Meson</em> can set up a simple debug build in the folder <em>buildir</em> with the following command. </p><pre class="fragment">meson setup builddir
</pre><p> <em>Meson</em> supports different build types, e.g. <em>debug</em>, <em>release</em> and <em>minsize</em>. It is possible to generate a release build with the following command. </p><pre class="fragment"> meson setup --buildtype release  builddir
</pre><p> The normal way to perform a build is to use the <em>Ninja</em> command, but it is also possible to compile with the following command. </p><pre class="fragment">meson compile -C builddir
</pre><p> This would be the same as the following command. </p><pre class="fragment">ninja -C builddir
</pre><p> The build system will detect changes to the different <em>meson.build</em> files and configure the builddir accordingly. If the build system should need to change e.g. from <em>release</em> to <em>debug</em> and still use the same build directory then it needs to be configured. Problems may also arise if the settings in the main <em>meson.build</em> for <em>project</em> needs to be changed. These changes will normally not be present in the build system until a new <em>setup</em> or <em>configure</em> is done. </p><pre class="fragment">meson configure --buildtype debug builddir/
</pre><p> It is possible to view the current configuration using the following command. </p><pre class="fragment">meson configure
</pre> <h2><a class="anchor" id="autotoc_md4"></a>
Clang Tidy and Clang Format</h2>
<p>If <em>meson</em> detects a *.clang-tidy* and/or *.clang-format* then it will generate targets for these commands. It will be possible to give the following commands. </p><pre class="fragment">ninja -C builddir clang-format-check
ninja -C builddir clang-format
ninja -C builddir clang-tidy 2&gt; /dev/null
</pre><p> <b>NOTE:</b> These commands find the files to be used as arguments from the command <em>git ls-files</em>. If the file names are changed and <em>git</em> is not aware of this, then these commands will fail. It is needed to at least stage the changes i.e. perform the <em>git add</em> command.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Ninja</h1>
<p><em>Ninja</em> is an alternative to make that provides faster builds. It is possible to use it in the <em>builddir</em> folder or give an option <em>-C</em> to instruct <em>Ninja</em> to change the current folder. </p><pre class="fragment">ninja -C builddir
(cd builddir; ninja)
</pre><p> Both these commands will yield the same result. It is also possible to list available subtools. </p><pre class="fragment">ninja -t list
ninja -t targets
ninja -t targets all
</pre><p> The most used targets given are as follows. </p><pre class="fragment">ninja clean
ninja 
ninja test
</pre><p> It is possible to add the option <em>-v</em> or <em>&ndash;verbose</em> to see more information about the commands used for producing the build. </p><pre class="fragment">ninja -v
</pre><p> <em>Ninja</em> does also support the dry run option <em>-n</em>. </p><pre class="fragment">ninja -n -v
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
